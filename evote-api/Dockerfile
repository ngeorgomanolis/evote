FROM node:14-alpine

ARG API_SWAGGER_URL
ARG API_SWAGGER_PORT
ARG SWAGGER_PATH

ENV API_SWAGGER_URL=$API_SWAGGER_URL
ENV API_SWAGGER_PORT=$API_SWAGGER_PORT
ENV SWAGGER_PATH=$SWAGGER_PATH

WORKDIR /usr/src/app

COPY package*.json ./

RUN npm install

COPY . .

CMD [ "npm", "run", "prod" ]